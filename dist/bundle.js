(()=>{let e,t;const n=process.env.apiKey;console.log(n);let o=document.getElementById("temperatura-valor"),a=document.getElementById("temperatura-descripcion"),i=document.getElementById("ubicacion"),d=document.getElementById("calidad-aire"),s=document.getElementById("icono-animado"),c=document.getElementById("icono-aire"),m=document.getElementById("viento-velocidad"),l=document.getElementById("viento-direccion"),r=document.getElementById("mas-informacion-aire"),g=document.getElementById("mas-informacion-temp"),u=document.getElementById("card-info-lista"),p=document.getElementById("card-info-lista-temp"),y=document.getElementById("caja1"),b=document.getElementById("caja4"),h=document.getElementById("icono-viento-direccion"),C=document.getElementById("info-co"),v=document.getElementById("info-no"),E=document.getElementById("info-no2"),x=document.getElementById("info-o3"),B=document.getElementById("info-so2"),I=document.getElementById("info-pm2-5"),w=document.getElementById("info-pm10"),f=document.getElementById("info-nh3"),L=document.getElementById("max-temp"),k=document.getElementById("min-temp"),$=document.getElementById("humedad"),A=document.getElementById("presion"),j=document.getElementById("sensacion"),P=!1,_=!1;r.addEventListener("click",(function(){!0===P?(P=!1,u.classList.remove("card-info-lista-visible"),b.classList.remove("card-aire-ampliada"),b.classList.add("card-aire-reducida")):(P=!0,u.classList.add("card-info-lista-visible"),b.classList.add("card-aire-ampliada"),b.classList.remove("card-aire-reducida"))})),g.addEventListener("click",(function(){!0===_?(_=!1,p.classList.remove("card-info-lista-temp-visible"),y.classList.remove("card-temp-ampliada"),y.classList.add("card-temp-reducida")):(_=!0,p.classList.add("card-info-lista-temp-visible"),y.classList.add("card-temp-ampliada"),y.classList.remove("card-temp-reducida"))})),navigator.geolocation&&navigator.geolocation.getCurrentPosition((r=>{e=r.coords.longitude,t=r.coords.latitude;const g=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&lang=es&units=metric&appid=${n}`,u=`https://api.openweathermap.org/data/2.5/air_pollution?lat=${t}&lon=${e}&appid=${n}`;console.log(g),console.log(u),fetch(u).then((e=>e.json())).then((e=>{switch(e.list[0].main.aqi){case 1:d.textContent="Buena",c.src="img/like.png",c.setAttribute("id","buena-icono"),d.classList.add("buena");break;case 2:d.textContent="Aceptable",c.src="img/like.png",c.setAttribute("id","aceptable-icono"),d.classList.add("aceptable");break;case 3:d.textContent="Moderada",c.src="img/regular.png",c.setAttribute("id","moderada-icono"),d.classList.add("moderada");break;case 4:d.textContent="Pobre",c.src="img/dislike.png",c.setAttribute("id","pobre-icono"),d.classList.add("pobre");break;case 5:d.textContent="Muy Pobre",c.src="img/dislike.png",c.setAttribute("id","muy-pobre-icono"),d.classList.add("muy-pobre");break;default:d.textContent="---"}C.textContent=e.list[0].components.co,v.textContent=e.list[0].components.no,E.textContent=e.list[0].components.no2,x.textContent=e.list[0].components.o3,B.textContent=e.list[0].components.so2,I.textContent=e.list[0].components.pm2_5,w.textContent=e.list[0].components.pm10,f.textContent=e.list[0].components.nh3,console.log(e.list[0].main.aqi),console.log(e)})).catch((e=>{console.log(e)})),fetch(g).then((e=>e.json())).then((e=>{console.log(e);let t=Math.round(e.main.temp);o.textContent=`${t} ยบC`;let n=e.weather[0].description;const d=n[0].toUpperCase()+n.substring(1);switch(a.textContent=d,i.textContent=e.name,L.textContent=e.main.temp_max,k.textContent=e.main.temp_min,e.main.humidity>=60?$.textContent=e.main.humidity+"% (alta)":e.main.humidity>=30&&e.main.humidity<=60?$.textContent=e.main.humidity+"% (adecuada)":$.textContent=e.main.humidity+"% (baja)",j.textContent=e.main.feels_like,e.main.pressure>=1013.25?A.textContent=e.main.pressure+"hPa (alta)":A.textContent=e.main.pressure+"hPa (baja)",m.textContent=`${e.wind.speed} m/s`,l.textContent=`${e.wind.deg}ยบ`,e.wind.deg>=337||e.wind.deg<=22.5?h.src="img/norte.png":e.wind.deg>22.5&&e.wind.deg<=67.5?h.src="img/noreste.png":e.wind.deg>67.5&&e.wind.deg<=112.5?h.src="img/este.png":e.wind.deg>112.5&&e.wind.deg<=157.5?h.src="img/sureste.png":e.wind.deg>157.5&&e.wind.deg<=202.5?h.src="img/sur.png":e.wind.deg>202.5&&e.wind.deg<=247.5?h.src="img/suroeste.png":e.wind.deg>247.5&&e.wind.deg<=292.5?h.src="img/oeste.png":h.src="img/noroeste.png",console.log(e.weather[0].main),e.weather[0].main){case"Clear":s.src="animated/day.svg",console.log("Limpio");break;case"Clouds":s.src="animated/cloudy-day-1.svg",console.log("Nubes");break;case"Thunderstorm":s.src="animated/thunder.svg",console.log("Tormenta");break;case"Drizzle":s.src="animated/rainy-2.svg",console.log("Xirimiri");break;case"Rain":s.src="animated/rainy-7.svg",console.log("Lluvia");break;case"Snow":s.src="animated/snowy-6.svg",console.log("Nieve");break;case"Atmosphere":s.src="animated/weather.svg",console.log("Atmosfera");break;default:s.src="animated/cloyd-day-1.svg",console.log("Por defecto")}})).catch((e=>{console.log(e)}))}))})();